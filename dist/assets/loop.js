import{r as t,h as w,j as r,S as f,N as h,P as S,a as k,b as m,c as g}from"./index.js";const v="_swiperLoop_hsfuv_5",x="_dark_hsfuv_21",j="_swiperSlide_hsfuv_29",c={swiperLoop:v,dark:x,swiperSlide:j};function L({images:n}){const i=t.useRef(null),[p,o]=t.useState(!1);t.useEffect(()=>{const e=()=>o(window.parent.document.body.classList.contains("dark"));e();const s=new MutationObserver(e);return s.observe(window.parent.document.body,{attributes:!0,attributeFilter:["class"]}),()=>s.disconnect()},[]),t.useEffect(()=>{const e=s=>{if(m.includes(s.origin)){const{action:d,scene:a}=s.data;if(d==="changeSlide"&&!isNaN(a)){const u=i.current.swiper;console.log("Scene: "+a),a>0&&a<=18&&i.current?u.slideToLoop(a-1):u.slideToLoop(0)}}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]);const l=e=>{const s=e+1;console.log("Slide clicked, real index:",s),i.current.swiper&&i.current.swiper.slideToLoop(e),window.parent.postMessage({index:s,source:"loop"},"*")};return t.useEffect(()=>{w()},[n]),r.jsx("div",{className:`${c.swiperLoopContainer} ${p?c.dark:""}`,children:r.jsx(f,{grabCursor:!0,loop:n.length>7,initialSlide:0,centeredSlides:!0,slidesPerView:8,slidesPerGroup:1,spaceBetween:10,breakpoints:{1200:{slidesPerView:8},1024:{slidesPerView:7},800:{slidesPerView:6},650:{slidesPerView:5},550:{slidesPerView:4},425:{slidesPerView:3},320:{slidesPerView:2}},modules:[h,S],navigation:!0,pagination:{clickable:!0},className:c.swiperLoop,ref:i,children:n.map((e,s)=>r.jsx(k,{className:c.swiperSlide,onClick:()=>l(s),children:r.jsxs("a",{href:"#",onClick:d=>d.preventDefault(),children:[e.media_type==="video"?r.jsx("iframe",{src:e.url,title:e.title,allowFullScreen:!0}):r.jsx("img",{src:e.url,alt:e.title||"Slide Image"}),r.jsx("p",{children:e.title})]})},s))})})}function P(){const[n,i]=t.useState([]);return t.useEffect(()=>{(async()=>{try{const o=await fetch("https://api.nasa.gov/planetary/apod?api_key=7BdaDaLN7EHQyb8Db3NDkE1dPSniiIG2oE0wvt64&hd=True&count=18");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const l=await o.json();i(l)}catch(o){console.error("Failed to fetch images: "+o)}})()},[]),r.jsx("div",{children:r.jsx(L,{images:n})})}g(document.getElementById("root")).render(r.jsx(t.StrictMode,{children:r.jsx(P,{})}));
