import{r,h,j as s,S as f,N as S,P as m,b as g,d as k}from"./index.js";const x="_swiperLoop_hsfuv_5",j="_dark_hsfuv_21",v="_swiperSlide_hsfuv_29",l={swiperLoop:x,dark:j,swiperSlide:v};function L({images:n}){const o=r.useRef(null),[p,i]=r.useState(!1);r.useEffect(()=>{const e=()=>i(window.parent.document.body.classList.contains("dark"));e();const t=new MutationObserver(e);return t.observe(window.parent.document.body,{attributes:!0,attributeFilter:["class"]}),()=>t.disconnect()},[]),r.useEffect(()=>{const e=["https://model.earth","https://raydendarkus.github.io","http://localhost:8887","http://localhost:5173"],t=c=>{if(e.includes(c.origin)){const{action:w,scene:a}=c.data;if(w==="changeSlide"&&!isNaN(a)){const u=o.current.swiper;console.log("Scene: "+a),a>0&&a<=18&&o.current?u.slideToLoop(a-1):u.slideToLoop(0)}}};return window.addEventListener("message",t),()=>window.removeEventListener("message",t)},[]);const d=e=>{const t=e+1;console.log("Slide clicked, real index:",t),o.current.swiper&&o.current.swiper.slideToLoop(e),window.parent.postMessage({index:t,source:"loop"},"*")};return r.useEffect(()=>{h()},[n]),s.jsx("div",{className:`${l.swiperLoopContainer} ${p?l.dark:""}`,children:s.jsx(f,{grabCursor:!0,loop:n.length>7,initialSlide:0,centeredSlides:!0,slidesPerView:8,slidesPerGroup:1,spaceBetween:10,breakpoints:{1200:{slidesPerView:8},1024:{slidesPerView:7},800:{slidesPerView:6},650:{slidesPerView:5},550:{slidesPerView:4},425:{slidesPerView:3},320:{slidesPerView:2}},modules:[S,m],navigation:!0,pagination:{clickable:!0},className:l.swiperLoop,ref:o,children:n.map((e,t)=>s.jsx(g,{className:l.swiperSlide,onClick:()=>d(t),children:s.jsxs("a",{href:"#",onClick:c=>c.preventDefault(),children:[e.media_type==="video"?s.jsx("iframe",{src:e.url,title:e.title,allowFullScreen:!0}):s.jsx("img",{src:e.url,alt:e.title||"Slide Image"}),s.jsx("p",{children:e.title})]})},t))})})}function b(){const[n,o]=r.useState([]);return r.useEffect(()=>{(async()=>{try{const i=await fetch("https://api.nasa.gov/planetary/apod?api_key=7BdaDaLN7EHQyb8Db3NDkE1dPSniiIG2oE0wvt64&hd=True&count=18");if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const d=await i.json();o(d)}catch(i){console.error("Failed to fetch images: "+i)}})()},[]),s.jsx("div",{children:s.jsx(L,{images:n})})}function P(){return s.jsx(s.Fragment,{children:s.jsx(b,{})})}k(document.getElementById("root")).render(s.jsx(r.StrictMode,{children:s.jsx(P,{})}));
